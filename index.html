<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–æ—Ü–∏–∞–ª–µ–Ω –∫–æ–º–ø–∞—Å</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="manifest" href="manifest.webmanifest">
    <style>
        body { background-color: #f3f4f6; color: #16a34a; }
        .hidden { display: none !important; }
        #timer { color: #111827; }
        .stats-box { background: #ffffff; border: 1px solid #e5e7eb; }
    </style>
</head>
<body class="p-4 font-sans min-h-screen flex items-center justify-center">
    <div class="max-w-md w-full bg-white p-8 rounded-2xl shadow-2xl border-t-8 border-green-600">
        
        <div id="motto-display" class="text-center italic font-semibold mb-8 min-h-[4rem] text-green-800 flex items-center justify-center text-lg border-b pb-4">
            –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –µ –≥–æ—Ç–æ–≤–æ –∑–∞ —Å—Ç–∞—Ä—Ç...
        </div>

        <div id="timer-panel" class="text-center">
            <h2 class="text-xs uppercase tracking-widest text-gray-400 font-bold mb-1">–ö—Ä—É–∑–æ –ê–ª–∞—Ä–º</h2>
            <div id="timer" class="text-7xl font-mono font-black mb-6">01:00</div>
            
            <div class="grid grid-cols-2 gap-4 mb-8">
                <div class="stats-box p-3 rounded-xl shadow-sm">
                    <p class="text-[10px] uppercase text-gray-500 font-bold">–ö–æ—Ä—Ç–∏–∑–æ–ª</p>
                    <p id="cortisol" class="text-2xl font-black text-red-500">0</p>
                </div>
                <div class="stats-box p-3 rounded-xl shadow-sm">
                    <p class="text-[10px] uppercase text-gray-500 font-bold">–ï–Ω–¥–æ—Ä—Ñ–∏–Ω–∏</p>
                    <p id="endorphins" class="text-2xl font-black text-blue-500">0</p>
                </div>
            </div>
            
            <button id="start-btn" class="w-full bg-green-600 hover:bg-green-700 text-white py-5 rounded-2xl font-black text-2xl shadow-xl transition-all active:scale-95 uppercase tracking-tighter">
                –°–¢–ê–†–¢–ò–†–ê–ô
            </button>
        </div>

        <div id="mission-panel" class="hidden text-center animate-in fade-in duration-500">
            <div class="bg-red-50 border-2 border-red-200 p-6 rounded-2xl mb-4">
                <h3 class="text-red-600 font-black text-xl mb-2 uppercase">‚ö†Ô∏è Survival Mission</h3>
                <p id="mission-text" class="text-gray-800 font-bold text-lg mb-6"></p>
                <button id="complete-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-4 rounded-xl font-bold text-lg shadow-lg uppercase mb-3">
                    –ò–ó–ü–™–õ–ù–ò–• –ú–ò–°–ò–Ø–¢–ê
                </button>
                <button id="refuse-btn" class="text-gray-400 text-xs hover:text-gray-600 underline">
                    –ù–µ –º–æ–≥–∞ –¥–∞ —è –∏–∑–ø—ä–ª–Ω—è (–ï—Ç–∏—á–µ–Ω —Ñ–∏–ª—Ç—ä—Ä)
                </button>
            </div>
        </div>

        <div id="ethical-panel" class="hidden bg-yellow-50 border-2 border-yellow-200 p-6 rounded-2xl shadow-inner">
            <h3 class="text-yellow-800 font-bold mb-4 uppercase text-sm border-b border-yellow-200 pb-2">–ï—Ç–∏—á–µ–Ω —Ñ–∏–ª—Ç—ä—Ä: –ê–¥–∞–º –†–µ–π–Ω</h3>
            <div class="space-y-4 mb-6">
                <label class="flex items-center text-xs text-yellow-900 font-semibold cursor-pointer">
                    <input type="checkbox" class="ethical-check w-5 h-5 mr-3 accent-yellow-600"> –ò–∑–±—è–≥–≤–∞–º –ª–∏ —Ä–µ–∞–ª–Ω–∏ —Ö–æ—Ä–∞ –∑–∞—Ä–∞–¥–∏ AI?
                </label>
                <label class="flex items-center text-xs text-yellow-900 font-semibold cursor-pointer">
                    <input type="checkbox" class="ethical-check w-5 h-5 mr-3 accent-yellow-600"> –ò–º–∞–º –ª–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –±–æ–ª–∫–∏ –æ—Ç –µ–∫—Ä–∞–Ω–∞?
                </label>
                <label class="flex items-center text-xs text-yellow-900 font-semibold cursor-pointer">
                    <input type="checkbox" class="ethical-check w-5 h-5 mr-3 accent-yellow-600"> –ü—Ä–µ–Ω–µ–±—Ä–µ–≥–≤–∞–º –ª–∏ —Ö–∏–≥–∏–µ–Ω–∞ –∏–ª–∏ —Å—ä–Ω?
                </label>
            </div>
            <button id="check-risk-btn" class="w-full bg-gray-900 text-white py-3 rounded-xl font-black uppercase text-sm">
                –ü–†–û–í–ï–†–ò –†–ò–°–ö–ê
            </button>
        </div>

        <div id="crisis-panel" class="hidden mt-6 p-5 bg-red-600 text-white rounded-2xl text-center shadow-2xl">
            <p class="font-black mb-2 uppercase tracking-widest text-sm">–í–∏—Å–æ–∫ –¥–∏–≥–∏—Ç–∞–ª–µ–Ω —Ä–∏—Å–∫!</p>
            <p class="text-xs opacity-90 mb-3">–í–∞—à–µ—Ç–æ –∑–¥—Ä–∞–≤–µ –µ –∑–∞—Å—Ç—Ä–∞—à–µ–Ω–æ. –ü–æ—Ç—ä—Ä—Å–µ—Ç–µ –ø–æ–º–æ—â:</p>
            <p class="text-xl font-black">üìû 116 111</p>
        </div>
    </div>

    <script>
        // –î–ê–ù–ù–ò
        const mottos = [
            "–ú—ä—Ä–∑–µ–ª—ä—Ç –Ω—è–º–∞ –¥–∞ —Ç–µ –¥–æ–≤–µ–¥–µ –¥–æ –Ω–∏–∫—ä–¥–µ.",
            "–°–≤–µ—Ç—ä—Ç –µ –æ—Ç–≤—ä–Ω, –Ω–µ –≤ –µ–∫—Ä–∞–Ω–∞.",
            "–ì–æ–≤–æ—Ä–∏ —Å —Ö–æ—Ä–∞, –∞ –Ω–µ —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞.",
            "–î–≤–∏–∂–µ–Ω–∏–µ—Ç–æ –µ –ª–µ–∫—ä—Ç –Ω–∞ –∂–∏–≤–æ—Ç–∞.",
            "–í—è—Ä–∞—Ç–∞ –ø–æ–º–∞–≥–∞ –≤ –Ω–∞–π-—Ç—Ä—É–¥–Ω–∏—Ç–µ –¥–Ω–∏."
        ];

        const missions = [
            "60 –ö–õ–ï–ö–ê –î–û –î–û–õ–£",
            "40 JUMPING JACKS",
            "2 –ú–ò–ù–£–¢–ò –ü–õ–ê–ù–ö –ù–ê –õ–ê–ö–¢–ò",
            "10 –õ–ò–¶–ï–í–ò –û–ü–û–†–ò + 20 –ü–û–î–°–ö–û–ö–ê"
        ];

        let timerSeconds = 60; // 1 –ú–ò–ù–£–¢–ê –ó–ê –¢–ï–°–¢
        let cortisol = 0;
        let endorphins = 0;
        let interval;

        // –ï–õ–ï–ú–ï–ù–¢–ò
        const startBtn = document.getElementById('start-btn');
        const timerDisplay = document.getElementById('timer');
        const cortisolDisplay = document.getElementById('cortisol');
        const endorphinsDisplay = document.getElementById('endorphins');
        const mottoDisplay = document.getElementById('motto-display');
        const timerPanel = document.getElementById('timer-panel');
        const missionPanel = document.getElementById('mission-panel');
        const missionText = document.getElementById('mission-text');
        const completeBtn = document.getElementById('complete-btn');
        const refuseBtn = document.getElementById('refuse-btn');
        const ethicalPanel = document.getElementById('ethical-panel');
        const checkRiskBtn = document.getElementById('check-risk-btn');
        const crisisPanel = document.getElementById('crisis-panel');

        // –ú–û–¢–û –†–û–¢–ê–¶–ò–Ø
        let mIdx = 0;
        function updateMotto() {
            mottoDisplay.innerText = mottos[mIdx];
            mIdx = (mIdx + 1) % mottos.length;
        }
        setInterval(updateMotto, 5000);
        updateMotto();

        // –õ–û–ì–ò–ö–ê –°–¢–ê–†–¢
        startBtn.addEventListener('click', () => {
            timerPanel.classList.add('hidden'); // –ö–†–ò–ï –ü–ê–ù–ï–õ–ê –°–™–° –°–¢–ê–†–¢–ê
            
            interval = setInterval(() => {
                timerSeconds--;
                
                // –¢–∞–π–º–µ—Ä –¥–∏—Å–ø–ª–µ–π
                let m = Math.floor(timerSeconds / 60);
                let s = timerSeconds % 60;
                timerDisplay.innerText = `${m}:${s < 10 ? '0'+s : s}`;

                // –ö–æ—Ä—Ç–∏–∑–æ–ª —Ä–∞—Å—Ç–µ –Ω–∞ –≤—Å–µ–∫–∏ 15 —Å–µ–∫ –∑–∞ —Ç–µ—Å—Ç–∞
                if (timerSeconds % 15 === 0 && timerSeconds > 0) {
                    cortisol += 5;
                    cortisolDisplay.innerText = cortisol;
                }

                if (timerSeconds <= 0) {
                    clearInterval(interval);
                    showMission();
                }
            }, 1000);
        });

        function showMission() {
            timerPanel.classList.add('hidden');
            missionText.innerText = missions[Math.floor(Math.random() * missions.length)];
            missionPanel.classList.remove('hidden');
        }

        completeBtn.addEventListener('click', () => {
            cortisol -= 15;
            endorphins += 20;
            cortisolDisplay.innerText = cortisol;
            endorphinsDisplay.innerText = endorphins;
            alert("–ë—Ä–∞–≤–æ! –¢–∏ –ø–æ–±–µ–¥–∏ –∑–∞—Å—Ç–æ—è–≤–∞–Ω–µ—Ç–æ!");
            resetApp();
        });

        refuseBtn.addEventListener('click', () => {
            missionPanel.classList.add('hidden');
            ethicalPanel.classList.remove('hidden');
        });

        checkRiskBtn.addEventListener('click', () => {
            const checks = document.querySelectorAll('.ethical-check:checked').length;
            if (checks >= 2) {
                crisisPanel.classList.remove('hidden');
                missionPanel.classList.remove('hidden'); // –í—Ä—ä—â–∞ –º–∏—Å–∏—è—Ç–∞ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª–Ω–æ
            } else {
                alert("–†–∏—Å–∫—ä—Ç –µ –Ω–∏—Å—ä–∫, –Ω–æ –≤—Å–µ –ø–∞–∫ —Å–µ —Ä–∞–∑–¥–≤–∏–∂–∏!");
                resetApp();
            }
        });

        function resetApp() {
            timerSeconds = 3000; // 50 –º–∏–Ω—É—Ç–∏ –∑–∞ —Ä–µ–∞–ª–Ω–∞ —Ä–∞–±–æ—Ç–∞
            timerDisplay.innerText = "50:00";
            timerPanel.classList.remove('hidden');
            missionPanel.classList.add('hidden');
            ethicalPanel.classList.add('hidden');
            crisisPanel.classList.add('hidden');
            document.querySelectorAll('.ethical-check').forEach(c => c.checked = false);
        }
    </script>
</body>
</html>
